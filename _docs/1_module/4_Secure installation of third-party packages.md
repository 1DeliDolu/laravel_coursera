# ğŸ” ÃœÃ§Ã¼ncÃ¼ Taraf Paketlerin GÃ¼venli Kurulumu

Bu videoda, Laravel paketlerini gÃ¼venli bir ÅŸekilde yÃ¼kleme ve deÄŸerlendirme konusuna biraz deÄŸineceÄŸiz. GÃ¼venli paketleri nasÄ±l seÃ§eceÄŸimizden bahsedelim. Ã–ncelikle, bunun tamamen aÃ§Ä±k kaynak olduÄŸunu unutmayalÄ±m ve bunu yeterince vurgulayamayacaÄŸÄ±mÄ± sÃ¶ylemeliyim: Bu paketlerin kaynak kodunun bir kÄ±smÄ±na yÃ¼klemeden Ã¶nce gerÃ§ekten bakmanÄ±z gerekiyor. Sadece gÃ¼venli olup olmadÄ±klarÄ±nÄ±, iyi uygulamalarÄ± takip edip etmediklerini gÃ¶rmekle kalmaz, aynÄ± zamanda verimli olup olmadÄ±klarÄ±nÄ±, sizin normalde yapmayacaÄŸÄ±nÄ±z ÅŸeyler yapÄ±p yapmadÄ±klarÄ±nÄ± veya aslÄ±nda ihtiyacÄ±nÄ±z olmayan daha fazla fonksiyonellik ve kod ekleyip eklemediklerini de gÃ¶rebilirsiniz. GitHub deposuna baktÄ±ÄŸÄ±nÄ±zda, yakÄ±n zamanda bir aktivite olup olmadÄ±ÄŸÄ±na bakÄ±n. Laravel sÃ¼rekli geliÅŸiyor ve bu paketlerin de gÃ¼ncel kalmasÄ± gerekiyor. EÄŸer yakÄ±n zamanda hiÃ§ aktivite gÃ¶rmediyseniz bu mutlaka kÃ¶tÃ¼ anlamÄ±na gelmez, fakat bu paketin en gÃ¼ncel veya en gÃ¼venli seÃ§enek olmadÄ±ÄŸÄ±na dair bir gÃ¶sterge olabilir ve bunu diÄŸerleriyle kÄ±yaslamak isteyebilirsiniz.

Security MD adÄ± verilen bir markdown dosyasÄ±na veya gÃ¼venlik aÃ§Ä±klarÄ±nÄ± paket yazarlarÄ±na Ã¶zel olarak nasÄ±l ileteceÄŸinizi anlatan baÅŸka talimatlara bakÄ±n. BunlarÄ±n bulunmasÄ±, paket yazarÄ±nÄ±n gÃ¼venliÄŸe gerÃ§ekten Ã¶nem verdiÄŸinin iyi bir gÃ¶stergesi olabilir. Son olarak, bu paketin herhangi bir testi var mÄ±? Ve o testlerin sadece yer tutucu olmadÄ±ÄŸÄ±ndan emin olmak iÃ§in kaynak koduna dalÄ±n. Testlere sahip olmak paketin gÃ¼venli olduÄŸu anlamÄ±na gelmez, ancak yazarÄ±n sÄ±nÄ±rlarÄ±, taÅŸmalarÄ± ve benzeri durumlarÄ± test etmeye Ã¶nem veriyor olabileceÄŸine dair bir fikir verir.

Åimdi paketlerin kurulumuna deÄŸinelim. Ã‡oÄŸu durumda Composer ile yÃ¼kleme oldukÃ§a basittir, fakat bunu root olarak Ã§alÄ±ÅŸtÄ±rmak istemeyiz.

GÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi Composer aslÄ±nda sizi uyarÄ±r ve â€œBunu gerÃ§ekten yapmak istiyor musunuz? Ã‡Ã¼nkÃ¼ muhtemelen istemezsiniz.â€ der. Peki Composerâ€™Ä± root olarak Ã§alÄ±ÅŸtÄ±rÄ±rsanÄ±z ne olabilir? Bir bakalÄ±m. Burada Composer install iÅŸlemini root olarak yapÄ±yorum, yani sudo composer install. Elbette benden onay istiyor ve ben de bu korkunÃ§ ÅŸeyi yapmak istediÄŸimi sÃ¶ylÃ¼yorum. Ve gÃ¶rebileceÄŸiniz gibi, paketleri yÃ¼kledikten sonra komutlar Ã§alÄ±ÅŸtÄ±rÄ±yor.

Ä°lki who am I? Bu gerÃ§ekten root olduÄŸumu gÃ¶steriyor. Ä°kincisi ise sadece bir ÅŸey ekrana yazdÄ±rdÄ±m, fakat root olarak her ÅŸeyi yapabilirdi. Bu gÃ¶sterim Composer scripts denilen bir ÅŸey sayesinde mÃ¼mkÃ¼n oldu. Scripts aslÄ±nda event hook'larÄ±dÄ±r. Yani paket yÃ¼klenmeden Ã¶nce gerÃ§ekleÅŸen preinstall command gibi tanÄ±mlayabileceÄŸiniz hookâ€™lar vardÄ±r. Post install command ise iÅŸlemden sonra olur. Post create project command de Ã¶yle.

Bu serinin Ã¶nceki kÄ±smÄ±nda Laravel Create project ile yaptÄ±ÄŸÄ±mÄ±z gibi proje oluÅŸturursak, tÃ¼m event yaÅŸam dÃ¶ngÃ¼sÃ¼ boyunca yaklaÅŸÄ±k 15 tane daha vardÄ±r. AyrÄ±ca Composerâ€™Ä±n kendisini deÄŸiÅŸtiren Composer plugins de vardÄ±r. Bunlar Composerâ€™Ä±n projeyi yÃ¼kleme ÅŸeklini deÄŸiÅŸtirir.

Fakat bu o kadar da korkunÃ§ deÄŸil. GÃ¶sterdiÄŸim demo biraz kurgusaldÄ±; nasÄ±l Ã§alÄ±ÅŸabileceÄŸini gÃ¶stermek iÃ§in bir ÅŸeyler hazÄ±rladÄ±m. GerÃ§ekte Composer, script'leri ve event'leri yalnÄ±zca root projede Ã§alÄ±ÅŸtÄ±rÄ±r, baÄŸÄ±mlÄ±lÄ±klarda deÄŸil. Bu Ã¶nemlidir Ã§Ã¼nkÃ¼ Composer Require yaptÄ±ÄŸÄ±nÄ±zda bu scriptâ€™ler Ã§alÄ±ÅŸmaz.

Sadece root paketinizde Ã§alÄ±ÅŸÄ±r. Elbette kaynak kodunu klonladÄ±ÄŸÄ±nÄ±zda Composer JSON dosyasÄ±na bakarsÄ±nÄ±z, iÃ§eride istemediÄŸiniz bir ÅŸey olup olmadÄ±ÄŸÄ±nÄ± kontrol etmek iÃ§in.

Fakat kendiliÄŸinden Ã§alÄ±ÅŸan ÅŸeylerden bahsetmiÅŸken, Laravel paket otomatik kaydÄ±nÄ± destekler. Laravel, dahili iÅŸlevselliÄŸi geniÅŸletmek iÃ§in paketleri ve service provider'larÄ± kullanÄ±r. Eskiden Composer paketini yÃ¼kledikten sonra proje yapÄ±landÄ±rmasÄ±na gidip ilgili service providerâ€™Ä± eklemeniz gerekirdi. ArtÄ±k tÃ¼m bunlar otomatik olarak gerÃ§ekleÅŸiyor. Bu, yalnÄ±zca bir paketi yÃ¼klediÄŸiniz anda projeye eklenmesi ve kodunu Ã§alÄ±ÅŸtÄ±rmaya hazÄ±r olmasÄ± anlamÄ±na gelir.

Yani boot ve register metodlarÄ±na sahip o service providerâ€™Ä± alÄ±rÄ±z. Laravel service providerâ€™larÄ± uygulama baÅŸlatÄ±ldÄ±ÄŸÄ±nda komutlarÄ± Ã§alÄ±ÅŸtÄ±rÄ±r ve diÄŸer kaynaklarÄ± kaydeder. Middleware kaydedebilirler. Ã–rneÄŸin, bir paketin tÃ¼m kullanÄ±cÄ± adlarÄ±nÄ±zÄ± ve parolalarÄ±nÄ±zÄ± aÃ§Ä±k metin olarak toplayan bir middleware yÃ¼klediÄŸini ve belki bunlarÄ± Ã¼Ã§Ã¼ncÃ¼ bir tarafa gÃ¶nderdiÄŸini dÃ¼ÅŸÃ¼nÃ¼n. Yerel dosya sisteminde dosyalarÄ± deÄŸiÅŸtirebilir. Projenize route ve endpoint bile ekleyebilir ve bunlar hassas bilgileri aÃ§Ä±ÄŸa Ã§Ä±karabilir. AyrÄ±ca database migrations da ekleyebilirler.

Genellikle migrations mevcut tablolarÄ± deÄŸiÅŸtirmek veya yeni tablolar eklemek iÃ§in kullanÄ±lÄ±r. Fakat veri deÄŸiÅŸtirebilir veya hesap ekleyebiliriz ve Laravel users tablosu oldukÃ§a Ã¶ngÃ¶rÃ¼lebilirdir, yani yÃ¼ksek eriÅŸime sahip bir kullanÄ±cÄ± ekleyen bir migration yazmak Ã§ok da zor deÄŸildir.

Peki bu paketleri gÃ¼venli bir ÅŸekilde yÃ¼klemek iÃ§in hangi adÄ±mlarÄ± atmalÄ±yÄ±z? Ä°lk olarak, bunu sÃ¼rekli sÃ¶ylediÄŸimi biliyorum ama kaynak kodu denetlemeniz gerekiyor. YÃ¼klediÄŸiniz her paketin kaynak kodundan siz sorumlusunuz, yazmamÄ±ÅŸ olsanÄ±z bile. Bu nedenle Composer Require yapmadan Ã¶nce kaynak koduna bakÄ±p incelemeniz gerekiyor.

Sonraki adÄ±m olarak, bir ÅŸey yÃ¼kledikten sonra proje kaynaÄŸÄ±nÄ± diff ile karÅŸÄ±laÅŸtÄ±rabilirsiniz. Kodunuzu commit ederken baÅŸka bir ÅŸeyin deÄŸiÅŸmediÄŸinden emin olun. DiÄŸer dosyalarÄ± gÃ¶rmezden gelip â€œBu benim geliÅŸtirmemden kaynaklÄ±dÄ±r.â€ diye varsaymayÄ±n. Yeni bir paket yÃ¼klemeden Ã¶nce tÃ¼m deÄŸiÅŸikliklerinizi commit edebilir veya stash yapabilirsiniz. BÃ¶ylece kendi deÄŸiÅŸikliklerinizle kÃ¶tÃ¼ niyetli bir paketin yaptÄ±ÄŸÄ± olasÄ± deÄŸiÅŸiklikleri karÄ±ÅŸtÄ±rmazsÄ±nÄ±z.

AyrÄ±ca database migrations iÃ§in dry run da yapabilirsiniz. Yani ek migration var mÄ±, dosya adlarÄ± neler gÃ¶rebilirsiniz ve ardÄ±ndan bu dosyalarÄ± takip edip veritabanÄ±nÄ±za ne yapabileceklerini inceleyebilirsiniz.

Ve son olarak, sisteminizde kayÄ±tlÄ± tÃ¼m routeâ€™larÄ± inceleyin. Artisan route list komutunu Ã§alÄ±ÅŸtÄ±rarak tanÄ±madÄ±ÄŸÄ±nÄ±z bir ÅŸey olup olmadÄ±ÄŸÄ±nÄ± kontrol edebilirsiniz.

Åimdi kÃ¶tÃ¼ niyetli bir paketin uygulamanÄ±za nasÄ±l zarar verebileceÄŸine dair bazÄ± Ã¶rneklere bakalÄ±m. git status yapÄ±yorum, dosyalarÄ±n deÄŸiÅŸmediÄŸinden emin olmak iÃ§in temiz bir dizindeyim. Sonra adÄ±ndan kÃ¶tÃ¼ niyetli olduÄŸu belli olan bir paket yÃ¼klÃ¼yorum. GÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi bir ÅŸeyler yÃ¼kledi ve evil steal your data paketinin keÅŸfedildiÄŸini belirtti. Promptâ€™uma bakÄ±nca dosyalarÄ±mda da deÄŸiÅŸiklik olduÄŸunu gÃ¶rÃ¼yorum.

Åimdi git status yapalÄ±m. BeklemediÄŸim ÅŸekilde bir dosya deÄŸiÅŸtirilmiÅŸ, bakalÄ±m. GÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi artÄ±k herhangi biri bu Controllerâ€™a girdiÄŸinde farklÄ± bir kullanÄ±cÄ± olarak giriÅŸ yapÄ±yor. Temelde bu extension service provider otomatik olarak kayÄ±t edildi ve beklemediÄŸim bir kod Ã§alÄ±ÅŸtÄ±rarak yerel dosyalarÄ±mÄ± deÄŸiÅŸtirdi. BeklemediÄŸim ve kesinlikle istemediÄŸim bir ÅŸey yaptÄ±.

Åimdi paketin proje Ã¼zerinde yapabileceÄŸi baÅŸka bir ÅŸeye bakalÄ±m. git status yapÄ±yorum, deÄŸiÅŸiklik yok. Sonra veri silmek iÃ§in tasarlanmamÄ±ÅŸ baÅŸka bir paket yÃ¼klÃ¼yorum. YÃ¼klendi ve service provider keÅŸfedildi. Dosya deÄŸiÅŸimine bakÄ±yoruz, beklenmedik bir ÅŸey yok. HÄ±zlÄ± bir ÅŸekilde migrations dry run yapmak istiyorum. Drop table users, gÃ¶rÃ¼nÃ¼yor ki bu paket bir migration eklemiÅŸ, bir bakalÄ±m. Optimize Tables gibi dikkat daÄŸÄ±tÄ±cÄ± bir isimle oldukÃ§a zeki davranmÄ±ÅŸ. GÃ¶rÃ¼nen o ki bu paket tÃ¼m kullanÄ±cÄ±larÄ±mÄ± silme yeteneÄŸini kaydetmiÅŸ.

Kesinlikle istemediÄŸim bir ÅŸey.

AÃ§Ä±k kaynak topluluk projeleri ve paketler, Laravel projenize iÅŸlev eklemenin harika bir yoludur. Fakat bu onlarÄ±n gÃ¼venlik aÃ§Ä±klarÄ± olmayacaÄŸÄ± veya kÃ¶tÃ¼ niyetli olmayacaÄŸÄ± anlamÄ±na gelmez. Kaynak kodu denetlemeyi unutmayÄ±n, sonuÃ§ta aÃ§Ä±k kaynak. Proje kaynaÄŸÄ±nÄ±zÄ± diffâ€™leyin, projede bir ÅŸey deÄŸiÅŸtirip deÄŸiÅŸtirmediklerini gÃ¶rÃ¼n. Database migrations iÃ§in dry run yapÄ±n ve paketin sizin iÃ§in eklemiÅŸ olabileceÄŸi tÃ¼m routeâ€™larÄ± inceleyin.
